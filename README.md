# üõçÔ∏è VYRON FASHION - H·ªá Th·ªëng Th∆∞∆°ng M·∫°i ƒêi·ªán T·ª≠ Th·ªùi Trang

## üìã T·ªïng Quan D·ª± √Ån

**Vyron Fashion** l√† m·ªôt n·ªÅn t·∫£ng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ chuy√™n v·ªÅ th·ªùi trang, ƒë∆∞·ª£c x√¢y d·ª±ng v·ªõi ki·∫øn tr√∫c **Full-Stack hi·ªán ƒë·∫°i**, t√≠ch h·ª£p c√°c c√¥ng ngh·ªá ti√™n ti·∫øn nh∆∞ **Machine Learning** cho h·ªá th·ªëng g·ª£i √Ω s·∫£n ph·∫©m, **WebSocket** cho c·∫≠p nh·∫≠t realtime, v√† **Cloud Storage** cho qu·∫£n l√Ω h√¨nh ·∫£nh.

### üéØ M·ª•c Ti√™u D·ª± √Ån
- X√¢y d·ª±ng website th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ ho√†n ch·ªânh v·ªõi ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng mua s·∫Øm
- √Åp d·ª•ng Machine Learning (Content-Based Filtering) ƒë·ªÉ g·ª£i √Ω s·∫£n ph·∫©m th√¥ng minh
- T√≠ch h·ª£p thanh to√°n tr·ª±c tuy·∫øn qua VietQR
- X√¢y d·ª±ng h·ªá th·ªëng qu·∫£n tr·ªã (Admin Dashboard) realtime v·ªõi WebSocket
- ƒê·∫£m b·∫£o b·∫£o m·∫≠t v·ªõi x√°c th·ª±c 2 l·ªõp (2FA)

---

## üèóÔ∏è Ki·∫øn Tr√∫c H·ªá Th·ªëng

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        CLIENT LAYER                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           Next.js 15 Frontend (React 19)                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Server Components    ‚Ä¢ Client Components                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ App Router           ‚Ä¢ Turbopack Build                  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        API LAYER                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ              FastAPI Backend (Python)                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ RESTful API          ‚Ä¢ WebSocket                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Pydantic Validation  ‚Ä¢ Async/Await                      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚ñº                   ‚ñº                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    MongoDB      ‚îÇ ‚îÇ   Cloudinary    ‚îÇ ‚îÇ   External      ‚îÇ
‚îÇ   (Database)    ‚îÇ ‚îÇ (Image Storage) ‚îÇ ‚îÇ   Services      ‚îÇ
‚îÇ                 ‚îÇ ‚îÇ                 ‚îÇ ‚îÇ  ‚Ä¢ VietQR       ‚îÇ
‚îÇ ‚Ä¢ Users         ‚îÇ ‚îÇ ‚Ä¢ Product imgs  ‚îÇ ‚îÇ  ‚Ä¢ Casso        ‚îÇ
‚îÇ ‚Ä¢ Products      ‚îÇ ‚îÇ ‚Ä¢ Auto optimize ‚îÇ ‚îÇ  ‚Ä¢ SMTP Email   ‚îÇ
‚îÇ ‚Ä¢ Orders        ‚îÇ ‚îÇ ‚Ä¢ CDN delivery  ‚îÇ ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Reviews       ‚îÇ ‚îÇ                 ‚îÇ ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß C√¥ng Ngh·ªá S·ª≠ D·ª•ng

### üñ•Ô∏è Frontend

| C√¥ng ngh·ªá | Phi√™n b·∫£n | M√¥ t·∫£ |
|-----------|-----------|-------|
| **Next.js** | 15.5.4 | React Framework v·ªõi App Router, Server Components |
| **React** | 19.1.0 | UI Library m·ªõi nh·∫•t |
| **Tailwind CSS** | 4.x | Utility-first CSS Framework |
| **Framer Motion** | 12.x | Animation Library |
| **GSAP** | 3.13.0 | Professional Animation Library |
| **React Hook Form** | 7.x | Form handling v·ªõi Zod validation |
| **Lucide React** | 0.548.0 | Icon Library |
| **Swiper** | 12.x | Touch Slider/Carousel |

### ‚öôÔ∏è Backend

| C√¥ng ngh·ªá | Phi√™n b·∫£n | M√¥ t·∫£ |
|-----------|-----------|-------|
| **FastAPI** | 0.115.0 | Modern Python Web Framework |
| **Uvicorn** | 0.32.0 | ASGI Server |
| **Motor** | 3.6.0 | Async MongoDB Driver |
| **Pydantic** | 2.9.0 | Data Validation |
| **Bcrypt** | 4.2.0 | Password Hashing |
| **FastAPI-Mail** | 1.4.1 | Email Integration |
| **Cloudinary** | 1.36.0 | Image Upload & CDN |

### ü§ñ Machine Learning

| C√¥ng ngh·ªá | Phi√™n b·∫£n | M√¥ t·∫£ |
|-----------|-----------|-------|
| **Scikit-learn** | 1.3.0 | ML Library cho Recommendation System |
| **NumPy** | 1.24.0 | Numerical Computing |
| **TF-IDF Vectorizer** | - | Text Vectorization cho Content-Based Filtering |
| **Cosine Similarity** | - | Similarity Measurement |

### üóÑÔ∏è Database & Storage

| C√¥ng ngh·ªá | M√¥ t·∫£ |
|-----------|-------|
| **MongoDB** | NoSQL Database |
| **Cloudinary** | Cloud Image Storage v·ªõi CDN |
| **Docker** | Containerization |

### üîó Third-party Services

| D·ªãch v·ª• | M·ª•c ƒë√≠ch |
|---------|----------|
| **VietQR** | T·∫°o m√£ QR thanh to√°n |
| **Casso** | Webhook nh·∫≠n giao d·ªãch ng√¢n h√†ng |
| **SMTP (Gmail)** | G·ª≠i email x√°c th·ª±c |
| **Cloudflare Turnstile** | CAPTCHA b·∫£o m·∫≠t |

---

## üì¶ Ch·ª©c NƒÉng H·ªá Th·ªëng

### üë§ Qu·∫£n L√Ω Ng∆∞·ªùi D√πng

#### 1. X√°c Th·ª±c & Ph√¢n Quy·ªÅn
- **ƒêƒÉng k√Ω t√†i kho·∫£n** v·ªõi x√°c minh email (OTP 6 s·ªë)
- **ƒêƒÉng nh·∫≠p** v·ªõi session management
- **Qu√™n m·∫≠t kh·∫©u** - Reset qua email token
- **X√°c th·ª±c 2 l·ªõp (2FA)** - OTP qua email
- **Ph√¢n quy·ªÅn**: Customer, Admin

#### 2. Qu·∫£n L√Ω H·ªì S∆°
- C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n (t√™n, s·ªë ƒëi·ªán tho·∫°i, avatar)
- Qu·∫£n l√Ω ƒë·ªãa ch·ªâ giao h√†ng (CRUD)
- ƒê·∫∑t ƒë·ªãa ch·ªâ m·∫∑c ƒë·ªãnh
- Thay ƒë·ªïi m·∫≠t kh·∫©u

### üõí Ch·ª©c NƒÉng Mua S·∫Øm

#### 1. Xem S·∫£n Ph·∫©m
- **Trang ch·ªß** v·ªõi banner, s·∫£n ph·∫©m m·ªõi, b√°n ch·∫°y
- **Trang danh m·ª•c** v·ªõi filter v√† ph√¢n trang
- **Trang chi ti·∫øt s·∫£n ph·∫©m**:
  - Gallery ·∫£nh v·ªõi zoom
  - Ch·ªçn m√†u s·∫Øc v√† k√≠ch c·ª°
  - Th√¥ng tin chi ti·∫øt, m√¥ t·∫£
  - ƒê√°nh gi√° t·ª´ kh√°ch h√†ng
  - **S·∫£n ph·∫©m t∆∞∆°ng t·ª±** (ML Recommendation)

#### 2. Gi·ªè H√†ng
- Th√™m/x√≥a s·∫£n ph·∫©m
- C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng
- Hi·ªÉn th·ªã t·ªïng ti·ªÅn realtime
- Animation "Fly to Cart"

#### 3. Wishlist (Danh S√°ch Y√™u Th√≠ch)
- Th√™m/x√≥a s·∫£n ph·∫©m y√™u th√≠ch
- Xem danh s√°ch wishlist

#### 4. Thanh To√°n
- **Checkout** v·ªõi th√¥ng tin giao h√†ng
- **Ph∆∞∆°ng th·ª©c thanh to√°n**:
  - COD (Thanh to√°n khi nh·∫≠n h√†ng)
  - VietQR (Qu√©t m√£ QR chuy·ªÉn kho·∫£n)
- **M√£ gi·∫£m gi√°** (Coupon)
- **Ph√≠ v·∫≠n chuy·ªÉn** theo ph∆∞∆°ng th·ª©c

#### 5. Qu·∫£n L√Ω ƒê∆°n H√†ng
- Xem l·ªãch s·ª≠ ƒë∆°n h√†ng
- Chi ti·∫øt ƒë∆°n h√†ng
- Theo d√µi tr·∫°ng th√°i: Pending ‚Üí Processing ‚Üí Shipped ‚Üí Delivered
- Y√™u c·∫ßu tr·∫£ h√†ng/ho√†n ti·ªÅn

### ‚≠ê ƒê√°nh Gi√° S·∫£n Ph·∫©m
- Ch·ªâ cho ph√©p ƒë√°nh gi√° sau khi mua
- Rating 1-5 sao
- Vi·∫øt review v·ªõi n·ªôi dung
- Hi·ªÉn th·ªã ƒëi·ªÉm trung b√¨nh

---

## ü§ñ H·ªá Th·ªëng G·ª£i √ù S·∫£n Ph·∫©m (Machine Learning)

### Content-Based Filtering

H·ªá th·ªëng s·ª≠ d·ª•ng **TF-IDF (Term Frequency-Inverse Document Frequency)** v√† **Cosine Similarity** ƒë·ªÉ g·ª£i √Ω s·∫£n ph·∫©m t∆∞∆°ng t·ª±.

#### Quy Tr√¨nh Ho·∫°t ƒê·ªông:

```
1. Thu th·∫≠p d·ªØ li·ªáu s·∫£n ph·∫©m
         ‚îÇ
         ‚ñº
2. X√¢y d·ª±ng "Content Profile" cho m·ªói s·∫£n ph·∫©m
   ‚Ä¢ T√™n s·∫£n ph·∫©m (weight x3)
   ‚Ä¢ M√¥ t·∫£ ng·∫Øn
   ‚Ä¢ Danh m·ª•c (weight x2)
   ‚Ä¢ Th∆∞∆°ng hi·ªáu
   ‚Ä¢ M√†u s·∫Øc
         ‚îÇ
         ‚ñº
3. Vectorization v·ªõi TF-IDF
   ‚Ä¢ ngram_range=(1, 2) - Unigram + Bigram
   ‚Ä¢ H·ªó tr·ª£ ti·∫øng Vi·ªát Unicode
         ‚îÇ
         ‚ñº
4. T√≠nh to√°n Cosine Similarity Matrix
         ‚îÇ
         ‚ñº
5. Khi user xem s·∫£n ph·∫©m A:
   ‚Üí T√¨m top N s·∫£n ph·∫©m c√≥ similarity cao nh·∫•t v·ªõi A
   ‚Üí Lo·∫°i b·ªè s·∫£n ph·∫©m ƒë√£ xem/mua
   ‚Üí Tr·∫£ v·ªÅ danh s√°ch g·ª£i √Ω
```

#### C√¥ng Th·ª©c TF-IDF:

$$TF(t,d) = \frac{\text{S·ªë l·∫ßn xu·∫•t hi·ªán c·ªßa term } t \text{ trong document } d}{\text{T·ªïng s·ªë terms trong document } d}$$

$$IDF(t) = \log\frac{\text{T·ªïng s·ªë documents}}{\text{S·ªë documents ch·ª©a term } t}$$

$$TF\text{-}IDF(t,d) = TF(t,d) \times IDF(t)$$

#### Cosine Similarity:

$$\text{similarity}(A, B) = \frac{A \cdot B}{\|A\| \times \|B\|} = \frac{\sum_{i=1}^{n} A_i \times B_i}{\sqrt{\sum_{i=1}^{n} A_i^2} \times \sqrt{\sum_{i=1}^{n} B_i^2}}$$

---

## üîê B·∫£o M·∫≠t

### C√°c Bi·ªán Ph√°p B·∫£o M·∫≠t ƒê√£ Tri·ªÉn Khai:

| T√≠nh nƒÉng | M√¥ t·∫£ |
|-----------|-------|
| **Password Hashing** | Bcrypt v·ªõi salt rounds |
| **2FA (Two-Factor Authentication)** | OTP 6 s·ªë qua email, h·∫øt h·∫°n sau 5 ph√∫t |
| **Email Verification** | X√°c minh email khi ƒëƒÉng k√Ω |
| **CORS Protection** | Ch·ªâ cho ph√©p origin ƒë∆∞·ª£c c·∫•u h√¨nh |
| **Input Validation** | Pydantic schemas validation |
| **Webhook Verification** | HMAC signature cho Casso webhook |
| **CAPTCHA** | Cloudflare Turnstile |

---

## üìä Admin Dashboard

### Ch·ª©c NƒÉng Qu·∫£n Tr·ªã

#### 1. Dashboard T·ªïng Quan (Realtime v·ªõi WebSocket)
- **KPI Cards**: Doanh thu, ƒë∆°n h√†ng, kh√°ch h√†ng m·ªõi, s·∫£n ph·∫©m ƒë√£ b√°n
- **Bi·ªÉu ƒë·ªì doanh thu** theo th·ªùi gian
- **ƒê∆°n h√†ng m·ªõi** c·∫ßn x·ª≠ l√Ω
- **S·∫£n ph·∫©m s·∫Øp h·∫øt h√†ng**
- **C·∫≠p nh·∫≠t realtime** khi c√≥ ƒë∆°n h√†ng m·ªõi

#### 2. Qu·∫£n L√Ω S·∫£n Ph·∫©m
- CRUD s·∫£n ph·∫©m v·ªõi form modal
- Upload nhi·ªÅu ·∫£nh c√πng l√∫c (Cloudinary)
- Qu·∫£n l√Ω bi·∫øn th·ªÉ (m√†u s·∫Øc, k√≠ch c·ª°)
- ·∫¢nh ri√™ng cho t·ª´ng m√†u
- Qu·∫£n l√Ω t·ªìn kho
- Ph√¢n trang v√† t√¨m ki·∫øm

#### 3. Qu·∫£n L√Ω Danh M·ª•c
- CRUD danh m·ª•c s·∫£n ph·∫©m
- Danh m·ª•c cha-con (nested)
- Upload ·∫£nh ƒë·∫°i di·ªán

#### 4. Qu·∫£n L√Ω ƒê∆°n H√†ng
- Xem danh s√°ch ƒë∆°n h√†ng v·ªõi filter theo tr·∫°ng th√°i
- C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë∆°n h√†ng
- Xem chi ti·∫øt ƒë∆°n h√†ng
- Th√¥ng b√°o realtime ƒë∆°n h√†ng m·ªõi

#### 5. Qu·∫£n L√Ω Kh√°ch H√†ng
- Xem danh s√°ch kh√°ch h√†ng
- Th·ªëng k√™: t·ªïng ƒë∆°n, t·ªïng chi ti√™u
- Ban/Unban t√†i kho·∫£n
- Thay ƒë·ªïi role (Customer/Admin)
- G·ª≠i email marketing

#### 6. Qu·∫£n L√Ω M√£ Gi·∫£m Gi√° (Coupon)
- T·∫°o m√£ gi·∫£m gi√° (% ho·∫∑c s·ªë ti·ªÅn c·ªë ƒë·ªãnh)
- ƒêi·ªÅu ki·ªán: gi√° tr·ªã ƒë∆°n t·ªëi thi·ªÉu, s·ªë l·∫ßn s·ª≠ d·ª•ng
- Th·ªùi h·∫°n hi·ªáu l·ª±c
- B·∫≠t/t·∫Øt coupon

#### 7. Qu·∫£n L√Ω ƒê·ªïi Tr·∫£
- Xem y√™u c·∫ßu ƒë·ªïi tr·∫£
- Duy·ªát/t·ª´ ch·ªëi y√™u c·∫ßu
- C·∫≠p nh·∫≠t tr·∫°ng th√°i

#### 8. C√†i ƒê·∫∑t
- C·∫•u h√¨nh ph∆∞∆°ng th·ª©c thanh to√°n
- C·∫•u h√¨nh ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn
- B·∫≠t/t·∫Øt c√°c t√≠nh nƒÉng

---

## üåê WebSocket Realtime

### Ki·∫øn Tr√∫c WebSocket:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     WebSocket      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Admin Browser  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  FastAPI Server ‚îÇ
‚îÇ    Dashboard    ‚îÇ     ws://...       ‚îÇ WebSocket Mgr   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                              ‚îÇ
                                              ‚ñº
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                    ‚îÇ   Event Types   ‚îÇ
                                    ‚îÇ ‚Ä¢ new_order     ‚îÇ
                                    ‚îÇ ‚Ä¢ order_update  ‚îÇ
                                    ‚îÇ ‚Ä¢ dashboard_    ‚îÇ
                                    ‚îÇ   refresh       ‚îÇ
                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### C√°c S·ª± Ki·ªán Realtime:
- `new_order`: Th√¥ng b√°o khi c√≥ ƒë∆°n h√†ng m·ªõi
- `order_update`: C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë∆°n h√†ng
- `dashboard_refresh`: Refresh d·ªØ li·ªáu dashboard

---

## üí≥ T√≠ch H·ª£p Thanh To√°n VietQR

### Lu·ªìng Thanh To√°n:

```
1. Kh√°ch h√†ng ch·ªçn thanh to√°n VietQR
         ‚îÇ
         ‚ñº
2. Backend t·∫°o m√£ QR qua VietQR API
   ‚Ä¢ S·ªë t√†i kho·∫£n
   ‚Ä¢ S·ªë ti·ªÅn
   ‚Ä¢ N·ªôi dung: "Thanh toan don {order_id}"
         ‚îÇ
         ‚ñº
3. Kh√°ch h√†ng qu√©t m√£ v√† chuy·ªÉn kho·∫£n
         ‚îÇ
         ‚ñº
4. Ng√¢n h√†ng g·ª≠i webhook ƒë·∫øn Casso
         ‚îÇ
         ‚ñº
5. Casso forward webhook ƒë·∫øn Backend
   ‚Ä¢ X√°c th·ª±c HMAC signature
   ‚Ä¢ Parse n·ªôi dung giao d·ªãch
         ‚îÇ
         ‚ñº
6. Backend c·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë∆°n h√†ng
   ‚Ä¢ payment_status: "paid"
   ‚Ä¢ Notify qua WebSocket
```

---

## üìÅ C·∫•u Tr√∫c Th∆∞ M·ª•c

```
Ecommerce-Clothing-store/
‚îú‚îÄ‚îÄ backend/                    # FastAPI Backend
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py            # Entry point, API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py        # MongoDB connection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Database models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py         # Pydantic schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recommendation.py  # ML Recommendation Engine
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ websocket_manager.py # WebSocket handler
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment_vietqr.py  # VietQR integration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cloudinary_uploader.py # Image upload
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email_utils.py     # Email sending
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger_config.py   # Logging configuration
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt       # Python dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ vyronfashion/              # Next.js Frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app/               # App Router pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.js        # Homepage
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/      # Product pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category/      # Category pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cart/          # Cart page
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checkout/      # Checkout page
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ account/       # User account pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/         # Admin dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/           # API routes
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # React components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/        # Header, Footer
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product/       # Product components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/         # Admin components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ account/       # Account components
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/            # UI components
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/               # Utilities
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ api/           # API client functions
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ imageHelper.js # Image utilities
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ public/                # Static assets
‚îÇ   ‚îî‚îÄ‚îÄ package.json           # Node dependencies
‚îÇ
‚îî‚îÄ‚îÄ docker-compose.yml         # Docker orchestration
```

---

## üöÄ API Endpoints

### Authentication
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| POST | `/api/auth/register` | ƒêƒÉng k√Ω t√†i kho·∫£n |
| POST | `/api/auth/login` | ƒêƒÉng nh·∫≠p |
| POST | `/api/auth/verify-email` | X√°c minh email |
| POST | `/api/auth/forgot-password` | Qu√™n m·∫≠t kh·∫©u |
| POST | `/api/auth/reset-password` | ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u |

### Products
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| GET | `/api/products` | Danh s√°ch s·∫£n ph·∫©m |
| GET | `/api/products/{id}` | Chi ti·∫øt s·∫£n ph·∫©m |
| GET | `/api/products/{id}/recommendations` | S·∫£n ph·∫©m g·ª£i √Ω (ML) |
| POST | `/api/products` | T·∫°o s·∫£n ph·∫©m (Admin) |
| PUT | `/api/products/{id}` | C·∫≠p nh·∫≠t s·∫£n ph·∫©m |
| DELETE | `/api/products/{id}` | X√≥a s·∫£n ph·∫©m |

### Categories
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| GET | `/api/categories` | Danh s√°ch danh m·ª•c |
| POST | `/api/categories` | T·∫°o danh m·ª•c |
| PUT | `/api/categories/{id}` | C·∫≠p nh·∫≠t danh m·ª•c |
| DELETE | `/api/categories/{id}` | X√≥a danh m·ª•c |

### Cart
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| GET | `/api/cart/{user_id}` | Xem gi·ªè h√†ng |
| POST | `/api/cart/add` | Th√™m v√†o gi·ªè |
| PUT | `/api/cart/{user_id}/{item_index}` | C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng |
| DELETE | `/api/cart/{user_id}/item` | X√≥a s·∫£n ph·∫©m |

### Orders
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| POST | `/api/orders` | T·∫°o ƒë∆°n h√†ng |
| GET | `/api/orders/user/{user_id}` | ƒê∆°n h√†ng c·ªßa user |
| GET | `/api/orders/{order_id}` | Chi ti·∫øt ƒë∆°n h√†ng |
| PUT | `/api/admin/orders/{id}/status` | C·∫≠p nh·∫≠t tr·∫°ng th√°i |

### Payment
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| POST | `/api/payments/vietqr/initiate` | T·∫°o m√£ QR thanh to√°n |
| POST | `/api/payments/casso/webhook` | Webhook nh·∫≠n giao d·ªãch |
| GET | `/api/payments/status/{order_id}` | Ki·ªÉm tra tr·∫°ng th√°i |

### Reviews & Wishlist
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| POST | `/api/reviews` | T·∫°o ƒë√°nh gi√° |
| GET | `/api/reviews/product/{id}` | ƒê√°nh gi√° s·∫£n ph·∫©m |
| POST | `/api/wishlist/toggle` | Toggle wishlist |
| GET | `/api/wishlist/{user_id}` | Danh s√°ch y√™u th√≠ch |

### Admin Dashboard
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| GET | `/api/admin/dashboard` | D·ªØ li·ªáu dashboard |
| GET | `/api/admin/orders` | Qu·∫£n l√Ω ƒë∆°n h√†ng |
| GET | `/api/admin/customers` | Qu·∫£n l√Ω kh√°ch h√†ng |
| GET | `/api/admin/coupons` | Qu·∫£n l√Ω m√£ gi·∫£m gi√° |
| GET | `/api/admin/returns` | Qu·∫£n l√Ω ƒë·ªïi tr·∫£ |

### Security
| Method | Endpoint | M√¥ t·∫£ |
|--------|----------|-------|
| POST | `/api/security/2fa/enable` | B·∫≠t 2FA |
| POST | `/api/security/2fa/disable` | T·∫Øt 2FA |
| POST | `/api/security/2fa/verify` | X√°c th·ª±c OTP |
| POST | `/api/security/change-password` | ƒê·ªïi m·∫≠t kh·∫©u |

### WebSocket
| Endpoint | M√¥ t·∫£ |
|----------|-------|
| `ws://host/ws/admin/dashboard` | Realtime dashboard updates |

---

## ‚öôÔ∏è C√†i ƒê·∫∑t & Ch·∫°y

### Y√™u C·∫ßu H·ªá Th·ªëng
- **Node.js** >= 18.x
- **Python** >= 3.10
- **MongoDB** >= 6.0
- **Docker** (optional)

### 1. Clone Repository
```bash
git clone https://github.com/DeiCroissant/Ecommerce-Clothing-store.git
cd Ecommerce-Clothing-store
```

### 2. C√†i ƒê·∫∑t Backend
```bash
cd backend
python -m venv venv
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

### 3. C·∫•u H√¨nh Environment
T·∫°o file `backend/.env`:
```env
MONGODB_URI=mongodb://localhost:27017
DATABASE_NAME=vyron_fashion

CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

MAIL_SERVER=smtp.gmail.com
MAIL_PORT=465
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_FROM=your_email@gmail.com

VIETQR_BANK_ID=970422
VIETQR_ACCOUNT_NUMBER=your_account
VIETQR_ACCOUNT_NAME=VYRON FASHION
CASSO_API_KEY=your_casso_key
CASSO_WEBHOOK_SECRET=your_webhook_secret

FRONTEND_URL=http://localhost:3000
```

### 4. Ch·∫°y Backend
```bash
cd backend
uvicorn app.main:app --reload --port 8000
```

### 5. C√†i ƒê·∫∑t Frontend
```bash
cd vyronfashion
npm install
```

### 6. C·∫•u H√¨nh Frontend
T·∫°o file `vyronfashion/.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### 7. Ch·∫°y Frontend
```bash
npm run dev
```

### 8. Truy C·∫≠p
- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:8000
- **API Docs**: http://localhost:8000/docs

---

## üê≥ Docker Deployment

```bash
docker-compose up -d
```

---

## üìà Hi·ªáu NƒÉng & T·ªëi ∆Øu

### C√°c Bi·ªán Ph√°p T·ªëi ∆Øu:

| K·ªπ thu·∫≠t | M√¥ t·∫£ |
|----------|-------|
| **Database Indexing** | Index tr√™n c√°c tr∆∞·ªùng th∆∞·ªùng query |
| **Pagination** | Ph√¢n trang k·∫øt qu·∫£ v·ªõi limit/skip |
| **Image Optimization** | Auto-optimize ·∫£nh tr√™n Cloudinary |
| **Caching** | Frontend caching v·ªõi React Query pattern |
| **Lazy Loading** | Load ·∫£nh khi c·∫ßn |
| **Debounce Search** | Gi·∫£m request khi search |
| **WebSocket** | Realtime thay v√¨ polling |
| **Async Operations** | Non-blocking I/O v·ªõi async/await |

---

## üë®‚Äçüíª T√°c Gi·∫£

**[T√™n Sinh Vi√™n]**
- Tr∆∞·ªùng: [T√™n Tr∆∞·ªùng]
- Email: [Email]
- GitHub: [Link GitHub]

---

## üìÑ License

MIT License - Xem file [LICENSE](LICENSE) ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt.

---

## üôè L·ªùi C·∫£m ∆†n

C·∫£m ∆°n c√°c th∆∞ vi·ªán v√† d·ªãch v·ª• open-source ƒë√£ gi√∫p ho√†n th√†nh d·ª± √°n n√†y:
- Next.js Team
- FastAPI
- MongoDB
- Cloudinary
- VietQR
- Scikit-learn

---

*C·∫≠p nh·∫≠t l·∫ßn cu·ªëi: Th√°ng 11, 2025*
